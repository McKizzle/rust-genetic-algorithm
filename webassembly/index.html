<script type='text/javascript'>
  var Module = {};

  fetch('main.wasm')
    .then(response => response.arrayBuffer())
    .then(buffer => {
      Module.wasmBinary = buffer;
      Module._main = function() {
        _hello_test();
      }

      var script = document.createElement("script");
      script.src = "main.js";
      script.onload = function() {
        console.log("Emscripten boilerplate loaded.");
      };
      // var Module = {
      //     wasmBinary: buffer,
      //     onRuntimeInitialized: function() {
      //       var script = document.createElement('script');
      //       script.src = "main.js";
      //       script.onload = function() {
      //         console.log("Emscripten boilerplate loaded.")
      //         //const n = "hello";
      //         //const result = _external_main(n);
      //         //console.log(`result: ${result}`);
      //         _hello_test();
      //       }
      //       document.body.appendChild(script);
      //     }
      // };
    });
   
</script>
<script type="text/javascript" src="main.js"></script>
<html>
  <body>
    <p> Open up your console to view the output. </p>
  </body>
</html>
